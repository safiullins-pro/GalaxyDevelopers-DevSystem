[pytest]
# КОНФИГУРАЦИЯ ИНКВИЗИТОРА ТЕСТИРОВАНИЯ

# Базовые настройки
minversion = 7.0
testpaths = 
    tests
    AGENTS/*/tests
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Coverage настройки - 100% ИЛИ СМЕРТЬ
addopts = 
    -v
    --strict-markers
    --tb=short
    --cov=AGENTS
    --cov-report=term-missing:skip-covered
    --cov-report=html:reports/coverage
    --cov-report=xml:reports/coverage.xml
    --cov-fail-under=100
    --maxfail=1
    --ff
    -p no:warnings

# Маркеры для категоризации тестов
markers =
    unit: Unit тесты отдельных компонентов
    integration: Integration тесты системы
    performance: Performance тесты нагрузки
    security: Security тесты безопасности
    smoke: Быстрые smoke тесты
    slow: Медленные тесты
    destructive: Разрушительные тесты
    paranoid: Параноидальные проверки
    sadistic: Садистские тесты на выносливость

# Таймауты - никаких зависаний
timeout = 100
timeout_method = thread

# Логирование для отладки
log_cli = true
log_cli_level = INFO
log_file = reports/pytest.log
log_file_level = DEBUG

# Параллельное выполнение для скорости
# -n auto для использования всех ядер